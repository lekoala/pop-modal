async function g(){let e=document.createElement("link");return e.rel="stylesheet",e.type="text/css",e.href="https://cdn.jsdelivr.net/npm/dialog-polyfill/dist/dialog-polyfill.min.css",document.head.appendChild(e),(await import("https://cdn.jsdelivr.net/npm/dialog-polyfill/+esm")).default}var u=g;var o=document,E=Object,c="pop-modal",h=customElements,f={closeSelector:".btn-close,.close,[data-close]"};function p(){return window.matchMedia("(prefers-reduced-motion: reduce)")===!0||window.matchMedia("(prefers-reduced-motion: reduce)").matches===!0}function y(){return typeof HTMLDialogElement<"u"}function m(e,t,i){i===null?e.removeAttribute(t):e.setAttribute(t,i)}function b(e){return["true","false","1","0",!0,!1].includes(e)&&!!JSON.parse(e)}function r(e,t,i=!1){let s=e.getAttribute(t);return s===null?i:s===""?!0:b(s)}function l(e,t,i=""){i?m(e,t,i):m(e,t,null)}function k(){if(o.documentElement.scrollHeight<=o.documentElement.clientHeight)return 0;let e=o.createElement("div");e.style.cssText="overflow:scroll; visibility:hidden; position:absolute;",o.body.appendChild(e);let t=e.offsetWidth-e.clientWidth;return e.remove(),t}function L(e){return e.split(".").reduce((t,i)=>t[i],window)}var d=null;y()||(d=await u());var a=class extends HTMLElement{constructor(){super(),this.hidden=!0,this.parentForm=null,this.childForm=null,this.closeHandler=this.closeHandler||null,this.openHandler=this.openHandler||null}get dialog(){return this.firstElementChild}connectedCallback(){setTimeout(()=>{this.parentForm=this.closest("form"),this.childForm=this.querySelector("form"),this.parentForm||this.childForm?this.innerHTML=`<dialog>${this.innerHTML}</dialog>`:this.innerHTML=`<dialog><form method="dialog">${this.innerHTML}</form></dialog>`,d&&d.registerDialog(this.dialog),this.dialog.addEventListener("close",this),p()||this.dialog.addEventListener("transitionend",this),this.auto&&this.open()}),this.addEventListener("keydown",this),this.addEventListener("click",this),this.bindControls()}bindControls(){o.querySelectorAll(`[data-dialog='${this.id}']`).forEach(t=>{t.addEventListener("click",this)})}disconnectedCallback(){this.removeEventListener("click",this),this.dialog.removeEventListener("close",this),o.querySelectorAll(`[data-dialog='${this.id}']`).forEach(t=>{t.removeEventListener("click",this)})}_closeTriggers(){return this.querySelectorAll(f.closeSelector)}get dismissible(){return r(this,"dismissible",!0)}set dismissible(t){l(this,"dismissible",!!t)}get backdrop(){return r(this,"backdrop",!0)}set backdrop(t){l(this,"backdrop",!!t)}get mega(){return r(this,"mega")}set mega(t){l(this,"mega",!!t)}get auto(){return r(this,"auto")}get output(){return this.getAttribute("output")}set output(t){l(this,"output",t)}get outputfn(){return this.getAttribute("outputfn")}set outputfn(t){l(this,"outputfn",t)}outputElement(){if(this.output)return o.querySelector(this.output)}outputFunction(){if(this.outputfn)return L(this.outputfn)}handleEvent=t=>{this[`$${t.type}`](t)};$close(t){let i=this.dialog.returnValue,s=this.outputElement();s&&(s.hasOwnProperty("value")?s.value=i:s.textContent=i);let n=this.outputFunction();n&&n(i),this.closeHandler&&this.closeHandler(i,t,this),p()&&this._afterClose()}$transitionend(t){t.propertyName=="opacity"&&this._afterClose()}_afterClose(){this.dialog.open||(this.hidden=!0,o.documentElement.classList.remove("pop-modal-open"))}$keydown(t){this.parentForm&&(t.keyIdentifier=="U+000A"||t.keyIdentifier=="Enter"||t.keyCode==13)&&t.target.nodeName=="INPUT"&&(t.preventDefault(),this.dialog.close("enter"))}$click(t){let i=t.target;this.dismissible&&i.nodeName=="DIALOG"&&this.dialog.close("dismiss");let s=i.closest("[data-dialog]");s&&(this.dialog.open?this.dialog.close("close"):this.open(s.value||"",t)),this._closeTriggers().forEach(n=>{n&&t.composedPath().includes(n)&&(this.dialog.close("close"),t.preventDefault())})}open(t=null,i=null){this.hidden=!1,this.openHandler&&this.openHandler(t,i,this),this.backdrop?(o.documentElement.style.setProperty("--scrollbar-width",k()+"px"),o.documentElement.classList.add("pop-modal-open"),this.dialog.showModal()):this.dialog.show()}static configure(t){E.assign(f,t)}};h.get(c)||h.define(c,a);
