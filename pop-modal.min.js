async function E(){let i=document.createElement("link");return i.rel="stylesheet",i.type="text/css",i.href="https://cdn.jsdelivr.net/npm/dialog-polyfill/dist/dialog-polyfill.min.css",document.head.appendChild(i),(await import("https://cdn.jsdelivr.net/npm/dialog-polyfill/+esm")).default}var u=E;var o=document,y=Object,h="pop-modal",c=customElements,f={closeSelector:".btn-close,.close,[data-close]"};function p(){return window.matchMedia("(prefers-reduced-motion: no-preference)")===!0||window.matchMedia("(prefers-reduced-motion: no-preference)").matches===!0}function g(){return typeof HTMLDialogElement<"u"}function m(i,t,e){e===null?i.removeAttribute(t):i.setAttribute(t,e)}function k(i){return["true","false","1","0",!0,!1].includes(i)&&!!JSON.parse(i)}function r(i,t,e=!1){let s=i.getAttribute(t);return s===null?e:s===""?!0:k(s)}function n(i,t,e=""){e?m(i,t,e):m(i,t,null)}function b(){if(o.documentElement.scrollHeight<=o.documentElement.clientHeight)return 0;let i=o.createElement("div");i.style.cssText="overflow:scroll; visibility:hidden; position:absolute;",o.body.appendChild(i);let t=i.offsetWidth-i.clientWidth;return i.remove(),t}function w(i){return i.split(".").reduce((t,e)=>t[e],window)}var d=null;g()||(d=await u());o.documentElement.style.setProperty("--scrollbar-width",b()+"px");var a=class extends HTMLElement{constructor(){super(),this.hidden=!0,this.opener=null,this.parentForm=null,this.form=null,this.dialog=null,this.closeHandler=this.closeHandler||null,this.openHandler=this.openHandler||null}connectedCallback(){setTimeout(()=>{this.parentForm=this.closest("form"),this.form=this.querySelector("form"),this.dialog=this.querySelector("dialog");let t=this.querySelector("nested-form");this.dialog||(this.dialog=o.createElement("dialog"),this.parentForm||this.form||t?this.dialog.append(...this.childNodes):(this.form=o.createElement("form"),this.form.setAttribute("method","dialog"),this.dialog.append(this.form),this.form.append(...this.childNodes)),this.appendChild(this.dialog)),t&&(this.parentForm&&document.body.append(this),this.form=o.createElement("form"),t.getAttributeNames().forEach(e=>{this.form.setAttribute(e,t.getAttribute(e))}),this.form.append(...t.childNodes),this.dialog.append(this.form),t.remove()),this.hidden=!1,d&&d.registerDialog(this.dialog),this.dialog.addEventListener("close",this),p()&&this.dialog.addEventListener("transitionend",this),this.auto&&this.open()}),this.addEventListener("keydown",this),this.addEventListener("click",this),this.bindControls()}bindControls(){o.querySelectorAll(`[data-dialog='${this.id}']`).forEach(t=>{t.addEventListener("click",this)})}disconnectedCallback(){this.removeEventListener("click",this),this.dialog&&this.dialog.removeEventListener("close",this),o.querySelectorAll(`[data-dialog='${this.id}']`).forEach(t=>{t.removeEventListener("click",this)})}_closeTriggers(){return this.querySelectorAll(f.closeSelector)}get dismissible(){return r(this,"dismissible",!0)}set dismissible(t){n(this,"dismissible",!!t)}get backdrop(){return r(this,"backdrop",!0)}set backdrop(t){n(this,"backdrop",!!t)}get auto(){return r(this,"auto")}get output(){return this.getAttribute("output")}set output(t){n(this,"output",t)}get outputfn(){return this.getAttribute("outputfn")}set outputfn(t){n(this,"outputfn",t)}outputElement(){if(this.output)return o.querySelector(this.output)}outputFunction(){if(this.outputfn)return w(this.outputfn)}handleEvent=t=>{this[`$${t.type}`](t)};$close(t){let e=this.dialog.returnValue,s=this.outputElement();s&&(s.hasOwnProperty("value")?s.value=e:s.textContent=e);let l=this.outputFunction();l&&l(e),this.closeHandler&&this.closeHandler(e,t,this),p()||this._afterClose(),g()||this.opener&&this.opener.focus()}$transitionend(t){t.propertyName=="opacity"&&this._afterClose()}_afterClose(){this.dialog.open||o.documentElement.classList.remove("pop-modal-open")}$keydown(t){this.parentForm&&(t.keyIdentifier=="U+000A"||t.keyIdentifier=="Enter"||t.keyCode==13)&&t.target.nodeName=="INPUT"&&(t.preventDefault(),this.dialog.close("enter"))}$click(t){let e=t.target;this.dismissible&&e.nodeName=="DIALOG"&&this.dialog.close("dismiss");let s=e.closest("[data-dialog]");s&&(this.dialog.open?this.dialog.close("close"):this.open(s.value||"",t)),this._closeTriggers().forEach(l=>{l&&t.composedPath().includes(l)&&(this.dialog.close("close"),t.preventDefault())})}open(t=null,e=null){e&&e.target&&(this.opener=e.target),this.openHandler&&this.openHandler(t,e,this),this.backdrop?(o.documentElement.style.setProperty("--scrollbar-width",b()+"px"),o.documentElement.classList.add("pop-modal-open"),this.dialog.showModal()):this.dialog.show()}static configure(t){y.assign(f,t)}};c.get(h)||c.define(h,a);
